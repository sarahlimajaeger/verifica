<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verifica! - De boa, sem alergia.</title>

    <link rel="icon" type="image/png" href="icon.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Source+Sans+3:ital,wght@0,400;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="Logo Verifica!" height="40">
            </a>
        </div>
    </nav>

    <section class="hero-full-width position-relative d-flex align-items-center text-center text-md-start">
        <div class="hero-overlay"></div> 
        <div class="container py-5 z-1"> 
            <div class="row justify-content-center">
                <div class="col-lg-8 p-3 p-lg-5 pt-lg-3">
                    <h2 class="display-4 fw-bold lh-1">Tranquilidade em cada mordida</h2>
                    <p class="lead">Nossa missão é descomplicar a vida de quem vive com restrições alimentares. Use nossa ferramenta para tomar decisões mais seguras e informadas sobre o que você come.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
                        <a href="#report-form" class="btn btn-principal btn-lg px-4 me-md-2 fw-bold">Relatar uma Reação</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main class="container py-5">

        <section class="hero-section text-center">
            <h1 class="display-4">Verificador de Alérgenos</h1>
            <p class="lead my-3 col-lg-8 mx-auto">Use o código de barras para checar instantaneamente os alérgenos de qualquer produto e fique de boa, sem alergia.</p>
        </section>

        <form id="search-form">
            <div class="row g-3 justify-content-center">
                <div class="col-lg-8">
                    <label for="barcode-input" class="visually-hidden">Código de Barras</label>
                    <input type="text" class="form-control form-control-lg" id="barcode-input" placeholder="Digite o código de barras do produto...">
                </div>
                <div class="col-lg-3">
                    <button type="submit" class="btn btn-principal btn-lg w-100">Verificar</button>
                </div>
                
                <div class="col-lg-11">
                    <div id="form-feedback" class="mt-2"></div> 
                </div>
            </div>
        </form>

        <section id="product-results" class="d-none card mb-5 mt-5">
            <div class="card-body p-lg-5">
                <div class="row align-items-center">
                    <div class="col-md-3 text-center mb-4 mb-md-0">
                        <img id="product-image" src="" alt="Imagem do Produto" class="img-fluid rounded shadow-sm">
                    </div>
                    <div class="col-md-9">
                        <h3 id="product-name" class="card-title">Nome do Produto</h3>
                        <p><strong>Ingredientes:</strong> <span id="product-ingredients" class="text-muted"></span></p>
                        <hr class="my-4">
                        <h5>Alérgenos Encontrados:</h5>
                        <div id="product-allergens"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="prevalence-chart" class="mb-5 mt-5">
            <div class="card">
                <div class="card-body p-lg-4">
                    <div id="allergies-prevalence-chart-container">
                        <h2 class="mb-4 text-center">As 8 Alergias Alimentares Mais Comuns</h2>
                        <canvas id="allergies-prevalence-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="report-form" class="mb-5 mt-5">
            <h2 class="mb-4 text-center">Relatar uma Reação Alérgica</h2>
            <div class="form-container p-4 p-lg-5">
                <form id="reaction-report-form">
                    <fieldset>
                        <div class="mb-3">
                            <label class="form-label d-block">Detalhes da Ocorrência</label>
                            <div class="row mb-3">
                                <div class="col-md-8 mb-3 mb-md-0">
                                    <label for="suspected-food" class="form-label">Alimento Suspeito:</label>
                                    <input type="text" id="suspected-food" class="form-control" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="reaction-date" class="form-label">Data da Reação:</label>
                                    <input type="date" id="reaction-date" class="form-control" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Gravidade da Reação:</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="severity" id="severity-mild" required>
                                    <label class="form-check-label" for="severity-mild">Leve</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="severity" id="severity-moderate">
                                    <label class="form-check-label" for="severity-moderate">Moderada</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="severity" id="severity-severe">
                                    <label class="form-check-label" for="severity-severe">Grave</label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset class="mt-4">
                        <div class="mb-3">
                            <label class="form-label d-block">Sintomas e Ações</label>
                            <div class="mb-3">
                                <div class="mb-3">
                                    <label class="form-label d-block">Principal Sintoma:</label>
                                    <select class="form-select" id="symptom-select" required>
                                        <option selected disabled value="">Selecione o principal sintoma...</option>
                                        <option value="cutaneo">Cutâneo (urticária, inchaço)</option>
                                        <option value="respiratorio">Respiratório (falta de ar, tosse)</option>
                                        <option value="gastro">Gastrointestinal (vômito, diarreia)</option>
                                        <option value="anafilaxia">Anafilaxia</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label d-block">Ações Tomadas:</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="action1" required>
                                        <label class="form-check-label" for="action1">Usei anti-histamínico</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="action2">
                                        <label class="form-check-label" for="action2">Usei adrenalina autoinjetável</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="action3">
                                        <label class="form-check-label" for="action3">Procurei atendimento médico</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="notes" class="form-label">Descrição Adicional:</label>
                                    <textarea id="notes" rows="4" class="form-control" placeholder="Descreva com mais detalhes como a reação ocorreu..."></textarea>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <div class="text-center">
                        <button type="submit" class="btn btn-principal mt-4">Enviar Relato</button>
                    </div>
                </form>
            </div>
        </section>

        <section class="asbai-section text-center">
            <h2 class="h3">Tem dúvidas sobre Alergia Alimentar?</h2>
            <p class="lead">As informações deste site não substituem uma consulta médica. Para informações confiáveis e acompanhamento profissional, visite o site da Associação Brasileira de Alergia e Imunologia.</p>
            <a href="https://asbai.org.br/" target="_blank" class="asbai-link">Visitar o site da ASBAI</a>
        </section>

    </main>

    <footer class="text-center p-4 mt-auto">
        <p class="mb-0">&copy; 2025 Verificador de Alérgenos - Desenvolvido para a disciplina de Desenvolvimento Web</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>

</html>
